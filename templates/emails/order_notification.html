{% extends 'emails/base_email.html' %}

{% block title %}{% if notification_type == 'new_order' %}ComandÄƒ nouÄƒ{% elif notification_type == 'quote_received' %}OfertÄƒ nouÄƒ{% elif notification_type == 'order_accepted' %}ComandÄƒ acceptatÄƒ{% else %}Actualizare comandÄƒ{% endif %} - Bricli{% endblock %}

{% block content %}
{% if notification_type == 'new_order' %}
    <h2 class="email-title">ComandÄƒ nouÄƒ disponibilÄƒ! ğŸ“‹</h2>
    
    <p class="email-text">Salut {{ craftsman.get_full_name|default:craftsman.username }},</p>
    
    <p class="email-text">
        O nouÄƒ comandÄƒ care se potriveÈ™te cu expertiza ta a fost postatÄƒ pe Bricli. 
        IatÄƒ detaliile proiectului:
    </p>
    
    <div class="highlight-box">
        <p class="highlight-text">
            <strong>{{ order.title }}</strong><br>
            <strong>Categorie:</strong> {{ order.category.name }}<br>
            <strong>LocaÈ›ie:</strong> {{ order.location }}<br>
            <strong>Buget:</strong> {{ order.budget|default:"De negociat" }} RON<br>
            <strong>Termen:</strong> {{ order.deadline|date:"d.m.Y"|default:"Flexibil" }}
        </p>
    </div>
    
    <p class="email-text">
        <strong>Descrierea proiectului:</strong><br>
        {{ order.description|truncatewords:50 }}
    </p>
    
    <div style="text-align: center; margin: 30px 0;">
        <a href="https://bricli.ro/orders/{{ order.id }}" class="email-button">
            Vezi detaliile È™i trimite oferta
        </a>
    </div>

{% elif notification_type == 'quote_received' %}
    <h2 class="email-title">Ai primit o ofertÄƒ nouÄƒ! ğŸ’¼</h2>
    
    <p class="email-text">Salut {{ client.get_full_name|default:client.username }},</p>
    
    <p class="email-text">
        Ai primit o ofertÄƒ nouÄƒ pentru proiectul tÄƒu "{{ order.title }}" de la meÈ™terul 
        {{ craftsman.get_full_name|default:craftsman.username }}.
    </p>
    
    <div class="highlight-box">
        <p class="highlight-text">
            <strong>Detalii ofertÄƒ:</strong><br>
            <strong>PreÈ›:</strong> {{ quote.price }} RON<br>
            <strong>DuratÄƒ estimatÄƒ:</strong> {{ quote.estimated_duration|default:"De discutat" }}<br>
            <strong>MeÈ™ter:</strong> {{ craftsman.get_full_name|default:craftsman.username }}<br>
            <strong>Rating:</strong> â­ {{ craftsman.average_rating|default:"Nou" }}
        </p>
    </div>
    
    <p class="email-text">
        <strong>Mesajul meÈ™terului:</strong><br>
        {{ quote.message|truncatewords:50 }}
    </p>
    
    <div style="text-align: center; margin: 30px 0;">
        <a href="https://bricli.ro/quotes/{{ quote.id }}" class="email-button">
            Vezi oferta completÄƒ
        </a>
    </div>

{% elif notification_type == 'order_accepted' %}
    <h2 class="email-title">FelicitÄƒri! Oferta ta a fost acceptatÄƒ! ğŸ‰</h2>
    
    <p class="email-text">Salut {{ craftsman.get_full_name|default:craftsman.username }},</p>
    
    <p class="email-text">
        Excelente veÈ™ti! Clientul {{ client.get_full_name|default:client.username }} 
        a acceptat oferta ta pentru proiectul "{{ order.title }}".
    </p>
    
    <div class="highlight-box">
        <p class="highlight-text">
            <strong>Detalii proiect:</strong><br>
            <strong>Valoare:</strong> {{ quote.price }} RON<br>
            <strong>Client:</strong> {{ client.get_full_name|default:client.username }}<br>
            <strong>Telefon client:</strong> {{ client.phone_number|default:"Disponibil Ã®n platformÄƒ" }}<br>
            <strong>Data Ã®nceperii:</strong> {{ order.start_date|date:"d.m.Y"|default:"De stabilit" }}
        </p>
    </div>
    
    <p class="email-text">
        <strong>UrmÄƒtorii paÈ™i:</strong><br>
        1. ContacteazÄƒ clientul pentru a stabili detaliile finale<br>
        2. ConfirmÄƒ data Ã®nceperii lucrÄƒrilor<br>
        3. Èšine clientul la curent cu progresul proiectului
    </p>
    
    <div style="text-align: center; margin: 30px 0;">
        <a href="https://bricli.ro/projects/{{ order.id }}" class="email-button">
            AcceseazÄƒ proiectul
        </a>
    </div>

{% else %}
    <h2 class="email-title">Actualizare comandÄƒ</h2>
    
    <p class="email-text">Salut {{ user.get_full_name|default:user.username }},</p>
    
    <p class="email-text">
        ExistÄƒ o actualizare pentru comanda ta "{{ order.title }}".
    </p>
    
    <div style="text-align: center; margin: 30px 0;">
        <a href="https://bricli.ro/orders/{{ order.id }}" class="email-button">
            Vezi actualizarea
        </a>
    </div>
{% endif %}

<div class="divider"></div>

<p class="email-text">
    Pentru Ã®ntrebÄƒri sau suport, ne poÈ›i contacta oricÃ¢nd la 
    <a href="mailto:support@bricli.ro" style="color: #8B5CF6;">support@bricli.ro</a>.
</p>

<p class="email-text">
    Cu respect,<br>
    <strong>Echipa Bricli</strong>
</p>
{% endblock %}